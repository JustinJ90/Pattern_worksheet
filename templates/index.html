<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Test Generator - 윤선생</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* 윤선생 브랜드 컬러 */
        :root {
            --yoon-red: #E02B2E;
            --yoon-dark-red: #B02224;
            --yoon-gray-dark: #343a40;
            --yoon-gray-medium: #6c757d;
            --yoon-gray-light: #f8f9fa;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--yoon-gray-light);
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* 푸터를 하단에 고정 */
        }
        .main-content {
            flex: 1; /* 메인 콘텐츠가 푸터를 아래로 밀도록 */
            max-width: 900px;
            margin: 20px auto;
            padding: 0 15px;
            box-sizing: border-box;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1 {
            text-align: center;
            color: var(--yoon-red);
            margin-bottom: 30px;
            font-size: 2.2em;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        h1 img {
            height: 40px; /* 로고 높이 조정 */
            margin-right: 15px;
            vertical-align: middle;
        }
        
        /* 교재 선택 드롭다운 */
        .book-selector {
            margin-bottom: 25px;
            padding: 20px;
            background-color: #fcebeb; /* 연한 빨강 배경 */
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--yoon-red);
        }
        .book-selector label {
            font-weight: bold;
            color: var(--yoon-dark-red);
            font-size: 1.1em;
            margin-right: 15px;
        }
        select {
            padding: 12px 15px;
            font-size: 1.05em;
            border-radius: 6px;
            border: 2px solid var(--yoon-red);
            width: calc(100% - 140px); /* 라벨 길이 고려 */
            max-width: 350px;
            background-color: white;
            color: var(--yoon-gray-dark);
            -webkit-appearance: none; /* 기본 드롭다운 화살표 제거 */
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23E02B2E%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13%205.7L146.2%20202.7%2018.6%2075.1a17.6%2017.6%200%200%200-24.7%2024.9l130.4%20129.3c7.8%207.7%2020.4%207.7%2028.3%200L287%2094.3a17.6%2017.6%200%200%200%200-24.9z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 12px;
            cursor: pointer;
        }
        select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(224, 43, 46, 0.3);
        }

        #loadingMsg {
            text-align: center;
            display: none;
            color: var(--yoon-gray-medium);
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        /* 패턴 리스트 */
        .pattern-list { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 15px; 
            margin-bottom: 25px;
            max-height: 550px; /* 스크롤 영역 */
            overflow-y: auto;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #fcfcfc;
        }
        .pattern-list > div:first-child { /* 초기 메시지 */
            grid-column: 1 / -1;
            text-align: center;
            color: var(--yoon-gray-medium);
            padding: 20px;
        }
        
        .pattern-item {
            background: white;
            border: 1px solid #ddd;
            padding: 18px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .pattern-item:hover { 
            border-color: var(--yoon-red); 
            background: #fffafa; 
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .pattern-item.selected { 
            background-color: #ffe6e6; /* 선택 시 배경색 */
            border-color: var(--yoon-red); 
            box-shadow: 0 0 8px rgba(224, 43, 46, 0.4); 
        }
        
        .pattern-info { margin-left: 10px; flex-grow: 1;}
        .pattern-num { 
            font-weight: bold; 
            color: var(--yoon-dark-red); 
            margin-right: 8px; 
            font-size: 1.1em;
        }
        .pattern-unit { 
            font-size: 0.85em; 
            color: white; 
            background: var(--yoon-red); 
            padding: 3px 8px; 
            border-radius: 5px; 
            font-weight: bold;
        }
        .pattern-name {
            margin-top: 8px; 
            font-size: 0.95em; 
            color: var(--yoon-gray-dark);
            line-height: 1.4;
        }

        /* 체크박스 스타일 */
        .pattern-item input[type="checkbox"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            outline: none;
            margin-right: 10px;
            flex-shrink: 0;
        }
        .pattern-item input[type="checkbox"]:checked {
            background-color: var(--yoon-red);
            border-color: var(--yoon-red);
        }
        .pattern-item input[type="checkbox"]:checked::after {
            content: '✔';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 14px;
            line-height: 1;
        }

        .selection-summary {
            text-align: center; 
            margin-bottom: 25px; 
            color: var(--yoon-gray-dark); 
            font-size: 1.1em;
            font-weight: bold;
        }

        .action-btn {
            display: block;
            width: 100%;
            padding: 18px;
            background-color: var(--yoon-red);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.2s ease-in-out;
            font-weight: bold;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 10px rgba(224, 43, 46, 0.3);
        }
        .action-btn:hover:enabled { background-color: var(--yoon-dark-red); }
        .action-btn:disabled { 
            background-color: #cccccc; 
            cursor: not-allowed; 
            box-shadow: none;
        }

        /* 푸터 스타일 */
        .footer {
            background-color: #2c2c2c; /* 웹사이트 푸터 색상 참고 */
            color: #ccc;
            padding: 25px 20px;
            text-align: center;
            font-size: 0.85em;
            margin-top: 40px; /* 메인 콘텐츠와의 간격 */
        }
        .footer p {
            margin: 5px 0;
            line-height: 1.6;
        }
        .footer a {
            color: #eee;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }

        /* 반응형 디자인 */
        @media (max-width: 768px) {
            h1 { font-size: 1.8em; }
            h1 img { height: 30px; }
            .book-selector label { display: block; margin-bottom: 10px; margin-right: 0;}
            select { width: 100%; max-width: none; }
            .pattern-list { grid-template-columns: 1fr; }
            .pattern-item { padding: 15px; }
            .action-btn { font-size: 1.1em; padding: 15px; }
        }
    </style>
</head>
<body>
    <div class="main-content">
        <div class="container">
            <h1>
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAABA CAMAAABp7+6fAAAAM1BMVEVHcEwbGxwYGBgSEhIYGxscGxwaGxwZGRkcGxwaGxwZGxwbGxwaGxwbGxwaGxwZGxwbGxxcxX9fAAAAEHRSTlMAxNjIyMDAwMDAwMDAwMBmC30+AAACxElEQVR4nO2byXKaMBCFp0G4s0vN/9C52JmHqBwQ9q2e9/2w0Mh2w4JpCgghhBBCCCGEEGp/52YQoX96v5f/2f3+tM/Xz06M/c7d3/l92v1+O5P/d7T7PdvN3vjFkR4d3f3fXq+Hh3mG+c/d3vjFkf/p90u6/Z5m/w+M3Rz8n1/H47S+f4z+z83NnE84xY/xHxy5f0/8n9n5vJ/t5/6/2/2c/T8yY/j/zMy5+n+F/2f38v/Z//+M2fz/i+c/M3Pj/w/jP/Pz184m/jPjPyNl+n/E/2fn/fN/s//nZubwHxw5yP+cOX/N/5+d+8/g/M/czmY+MeN/+N+y8z/j/0/O38v/D7r/zOcz/x/4f+fmbufxH+N/M/P5zNnP+M+MzGZm/z/w/9v+/+/W/4b+J2ezyYh/+GjM5DP/8B8yM//c/wMh+8/8A/2fn/k7c/gPjfzPyJ+f/w+zP/MTPvP/A/3Py1+V+1/3M+e/I/8fOzO//v/H/w/935n4z/x/939n4n/j/wf9/4P8f+j/z/w/9P/N/D/0/8//Y/zP/D/1//x/G/wP/z/D/D/s/8/8P+z/z/w/4f+L/D/i/5v9v/M/5/9v/M/5f+T/m/xP9X/Z/yf+b/P/z/2/8T/1/8T/1/4P+L/G/wf8n/Y/yf8n/Y/yf9n/Y/y/8n/Z/yf+b/Y/zP/X/Y/zf+X/Y/zf+X/b/zP+X/D/m/xv8n/B/z/5v9r/B/x/zX9r/B/zP+v/M/z/8z/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8n/D/m/zv8